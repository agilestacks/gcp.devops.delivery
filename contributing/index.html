<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="How to contribute into google-stacks repo from Cloud Shell #    Creating a personal access token. Minimum required scopes are repo, read:org, workflow. Save this generated personal token in safe place (you can use it for future cloud shell sessions)
  Login to github with gh tool using a generated personal token:
gh auth login -h github.com gh tool will ask you to select some options. Select next one:"><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content="Contributing"><meta property="og:description" content="How to contribute into google-stacks repo from Cloud Shell #    Creating a personal access token. Minimum required scopes are repo, read:org, workflow. Save this generated personal token in safe place (you can use it for future cloud shell sessions)
  Login to github with gh tool using a generated personal token:
gh auth login -h github.com gh tool will ask you to select some options. Select next one:"><meta property="og:type" content="article"><meta property="og:url" content="http://gcp.devops.delivery/contributing/"><meta property="article:section" content><title>Contributing | GCP Sandboxes</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.82c5dbd23447cee0b4c2aa3ed08ce0961faa40e1fa370eee4f8c9f02e0d46b5f.css integrity="sha256-gsXb0jRHzuC0wqo+0Izglh+qQOH6Nw7uT4yfAuDUa18=" crossorigin=anonymous><script defer src=/flexsearch.min.js></script>
<script defer src=/en.search.min.ba841a47029dd9455c3fa3e4c68ecf73d618a4c86c6a66efbd8c5dd1d69a8577.js integrity="sha256-uoQaRwKd2UVcP6Pkxo7Pc9YYpMhsambvvYxd0daahXc=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>GCP Sandboxes</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><span>GKE</span><ul><li><a href=/gke/gke-empty-cluster/>Empty GKE</a></li><li><a href=/gke/gke-with-demo-app/>With Demo App</a></li><li><a href=/gke/gke-anthos-with-demo-app/>ASM with Demo App</a></li></ul></li><li><span>VM</span><ul><li><a href=/vm/vm-php-web-server/>Web Server + PHP + Cloud SQL</a></li></ul></li><li><span>Cloud Composer</span><ul><li><a href=/composer/composer-demo-app/>With Demo App</a></li><li><a href=/composer/composer/>Just Composer</a></li></ul></li><li><span>Cloud SQL</span><ul><li><a href=/cloud-sql/cloud-sql-perftest/>With Load Test</a></li></ul></li><li><span>Examples</span><ul><li><a href=/examples/terraform-example/>Terraform Example</a></li></ul></li><li><a href=/contributing/ class=active>Contributing</a></li></ul><ul><li><a href=https://github.com/agilestacks/google-stacks target=_blank rel=noopener>Sandboxes on GitHub</a></li><li><a href=https://github.com/agilestacks/google-components target=_blank rel=noopener>Components on GitHub</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Contributing</strong>
<label for=toc-control></label></div></header><article class=markdown><h1 id=how-to-contribute-into-google-stacks-repo-from-cloud-shell>How to contribute into google-stacks repo from Cloud Shell
<a class=anchor href=#how-to-contribute-into-google-stacks-repo-from-cloud-shell>#</a></h1><ol><li><p><a href=https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token>Creating a personal access token</a>. Minimum required scopes are <code>repo</code>, <code>read:org</code>, <code>workflow</code>. Save this generated personal token in safe place (you can use it for future cloud shell sessions)</p></li><li><p>Login to github with <code>gh</code> tool using a generated personal token:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>gh auth login -h github.com
</span></span></code></pre></div><p><code>gh</code> tool will ask you to select some options. Select next one:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>? What is your preferred protocol for Git operations? HTTPS
</span></span><span style=display:flex><span>? Authenticate Git with your GitHub credentials? Yes
</span></span><span style=display:flex><span>? How would you like to authenticate GitHub CLI? Paste an authentication token
</span></span></code></pre></div><p>Use <code>gh</code> tool as git credentials helper</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>gh auth setup-git
</span></span></code></pre></div></li><li><p>Configure git client</p><p>Set git user name and email manually</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git config --global user.name <span style=color:#e6db74>&#34;&lt;your_user_name&gt;&#34;</span>
</span></span><span style=display:flex><span>git config --global user.email <span style=color:#e6db74>&#34;&lt;your_user_email&gt;&#34;</span>
</span></span></code></pre></div><p>or use your Github user name and email as <code>&lt;your_github_username>@users.noreply.github.com</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git config --global user.name <span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>gh api https://api.github.com/user | jq -crM <span style=color:#e6db74>&#39;.login&#39;</span><span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>git config --global user.email <span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>echo <span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>git config --global user.name<span style=color:#66d9ef>)</span><span style=color:#e6db74>@users.noreply.github.com&#34;</span><span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
</span></span></code></pre></div><p>or use your current GCP user name and email</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git config --global user.email <span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>gcloud auth list --verbosity<span style=color:#f92672>=</span>none --filter<span style=color:#f92672>=</span>status:ACTIVE --format<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;json(account)&#34;</span> | jq -cMr <span style=color:#e6db74>&#39;. | first | . account&#39;</span><span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>git config --global user.name <span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>echo <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>USER/_/ <span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span> | sed -e <span style=color:#e6db74>&#39;s/^./\U&amp;/g;  s/ ./\U&amp;/g&#39;</span><span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
</span></span></code></pre></div></li><li><p>Before making changes create git branch</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git checkout -b &lt;your_branch_name&gt;
</span></span></code></pre></div><p>Make your changes and commit them</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git add -A .
</span></span><span style=display:flex><span>git commit -m <span style=color:#e6db74>&#34;&lt;your_commit_message&gt;&#34;</span>
</span></span></code></pre></div></li><li><p>Create Github Pull Request</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>gh pr create --title <span style=color:#e6db74>&#34;&lt;your_pr_title&gt;&#34;</span> --body <span style=color:#e6db74>&#34;&lt;your_pr_description&gt;&#34;</span>
</span></span></code></pre></div><p><code>gh</code> tool will ask you a question <code>Where should we push the '&lt;your_branch_name>' branch?</code> select <code>Create a fork of agilestacks/google-stacks</code>.
Calling <code>gh pr create</code> will create a fork repo in your Github account, push your branch changes and create a PR in <code>agilestacks/google-stacks</code>.</p></li></ol></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(n){const e=window.getSelection(),t=document.createRange();t.selectNodeContents(n),e.removeAllRanges(),e.addRange(t)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script><footer><div><p><span>&copy; 2022</span>
<a href=https://epam.com target=_blank class=link>EPAM Systems, Inc.</a>
<span>All Rights Reserved</span></p></div></footer></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div></main></body></html>